{"ast":null,"code":"import { useState, useRef, useCallback, useEffect } from 'react';\nfunction useDetails(_ref) {\n  let {\n    ref,\n    closeOnOutsideClick,\n    defaultOpen,\n    onClickOutside\n  } = _ref;\n  const [open, setOpen] = useState(defaultOpen);\n  const backupRef = useRef(null);\n  const customRef = ref !== null && ref !== void 0 ? ref : backupRef;\n  const onClickOutsideInternal = useCallback(event => {\n    const {\n      current\n    } = customRef;\n    const eventTarget = event.target;\n    const closest = eventTarget.closest('details');\n    if (closest !== current) {\n      onClickOutside && onClickOutside(event);\n      if (!event.defaultPrevented) {\n        setOpen(false);\n      }\n    }\n  }, [customRef, setOpen, onClickOutside]);\n\n  // handles the overlay behavior - closing the menu when clicking outside of it\n  useEffect(() => {\n    if (open && closeOnOutsideClick) {\n      document.addEventListener('click', onClickOutsideInternal);\n      return () => {\n        document.removeEventListener('click', onClickOutsideInternal);\n      };\n    }\n  }, [open, closeOnOutsideClick, onClickOutsideInternal]);\n  const handleToggle = e => {\n    if (!e.defaultPrevented) {\n      const eventTarget = e.target;\n      setOpen(eventTarget.open);\n    }\n  };\n  const getDetailsProps = () => {\n    return {\n      onToggle: handleToggle,\n      open,\n      ref: customRef\n    };\n  };\n  return {\n    open,\n    setOpen,\n    getDetailsProps\n  };\n}\nexport { useDetails as default };","map":{"version":3,"names":["useState","useRef","useCallback","useEffect","useDetails","_ref","ref","closeOnOutsideClick","defaultOpen","onClickOutside","open","setOpen","backupRef","customRef","onClickOutsideInternal","event","current","eventTarget","target","closest","defaultPrevented","document","addEventListener","removeEventListener","handleToggle","e","getDetailsProps","onToggle","default"],"sources":["/home/muneeb/assignment-krayo/frontend/node_modules/@primer/react/lib-esm/hooks/useDetails.js"],"sourcesContent":["import { useState, useRef, useCallback, useEffect } from 'react';\n\nfunction useDetails({\n  ref,\n  closeOnOutsideClick,\n  defaultOpen,\n  onClickOutside\n}) {\n  const [open, setOpen] = useState(defaultOpen);\n  const backupRef = useRef(null);\n  const customRef = ref !== null && ref !== void 0 ? ref : backupRef;\n  const onClickOutsideInternal = useCallback(event => {\n    const {\n      current\n    } = customRef;\n    const eventTarget = event.target;\n    const closest = eventTarget.closest('details');\n    if (closest !== current) {\n      onClickOutside && onClickOutside(event);\n      if (!event.defaultPrevented) {\n        setOpen(false);\n      }\n    }\n  }, [customRef, setOpen, onClickOutside]);\n\n  // handles the overlay behavior - closing the menu when clicking outside of it\n  useEffect(() => {\n    if (open && closeOnOutsideClick) {\n      document.addEventListener('click', onClickOutsideInternal);\n      return () => {\n        document.removeEventListener('click', onClickOutsideInternal);\n      };\n    }\n  }, [open, closeOnOutsideClick, onClickOutsideInternal]);\n  const handleToggle = e => {\n    if (!e.defaultPrevented) {\n      const eventTarget = e.target;\n      setOpen(eventTarget.open);\n    }\n  };\n  const getDetailsProps = () => {\n    return {\n      onToggle: handleToggle,\n      open,\n      ref: customRef\n    };\n  };\n  return {\n    open,\n    setOpen,\n    getDetailsProps\n  };\n}\n\nexport { useDetails as default };\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAEhE,SAASC,UAAUA,CAAAC,IAAA,EAKhB;EAAA,IALiB;IAClBC,GAAG;IACHC,mBAAmB;IACnBC,WAAW;IACXC;EACF,CAAC,GAAAJ,IAAA;EACC,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAACQ,WAAW,CAAC;EAC7C,MAAMI,SAAS,GAAGX,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMY,SAAS,GAAGP,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,KAAK,CAAC,GAAGA,GAAG,GAAGM,SAAS;EAClE,MAAME,sBAAsB,GAAGZ,WAAW,CAACa,KAAK,IAAI;IAClD,MAAM;MACJC;IACF,CAAC,GAAGH,SAAS;IACb,MAAMI,WAAW,GAAGF,KAAK,CAACG,MAAM;IAChC,MAAMC,OAAO,GAAGF,WAAW,CAACE,OAAO,CAAC,SAAS,CAAC;IAC9C,IAAIA,OAAO,KAAKH,OAAO,EAAE;MACvBP,cAAc,IAAIA,cAAc,CAACM,KAAK,CAAC;MACvC,IAAI,CAACA,KAAK,CAACK,gBAAgB,EAAE;QAC3BT,OAAO,CAAC,KAAK,CAAC;MAChB;IACF;EACF,CAAC,EAAE,CAACE,SAAS,EAAEF,OAAO,EAAEF,cAAc,CAAC,CAAC;;EAExC;EACAN,SAAS,CAAC,MAAM;IACd,IAAIO,IAAI,IAAIH,mBAAmB,EAAE;MAC/Bc,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAER,sBAAsB,CAAC;MAC1D,OAAO,MAAM;QACXO,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAET,sBAAsB,CAAC;MAC/D,CAAC;IACH;EACF,CAAC,EAAE,CAACJ,IAAI,EAAEH,mBAAmB,EAAEO,sBAAsB,CAAC,CAAC;EACvD,MAAMU,YAAY,GAAGC,CAAC,IAAI;IACxB,IAAI,CAACA,CAAC,CAACL,gBAAgB,EAAE;MACvB,MAAMH,WAAW,GAAGQ,CAAC,CAACP,MAAM;MAC5BP,OAAO,CAACM,WAAW,CAACP,IAAI,CAAC;IAC3B;EACF,CAAC;EACD,MAAMgB,eAAe,GAAGA,CAAA,KAAM;IAC5B,OAAO;MACLC,QAAQ,EAAEH,YAAY;MACtBd,IAAI;MACJJ,GAAG,EAAEO;IACP,CAAC;EACH,CAAC;EACD,OAAO;IACLH,IAAI;IACJC,OAAO;IACPe;EACF,CAAC;AACH;AAEA,SAAStB,UAAU,IAAIwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}