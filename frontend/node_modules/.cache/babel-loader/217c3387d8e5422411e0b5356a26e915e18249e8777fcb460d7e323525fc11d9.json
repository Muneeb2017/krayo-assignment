{"ast":null,"code":"import React__default from 'react';\nimport { useForceUpdate } from './use-force-update.js';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect.js';\n\n/** createSlots is a factory that can create a\n *  typesafe Slots + Slot pair to use in a component definition\n *  For example: ActionList.Item uses createSlots to get a Slots wrapper\n *  + Slot component that is used by LeadingVisual, Description\n */\nconst createSlots = slotNames => {\n  const SlotsContext = /*#__PURE__*/React__default.createContext({\n    registerSlot: () => null,\n    unregisterSlot: () => null,\n    context: {}\n  });\n\n  // maintain a static reference to avoid infinite render loop\n  const defaultContext = Object.freeze({});\n\n  /** Slots uses a Double render strategy inspired by [reach-ui/descendants](https://github.com/reach/reach-ui/tree/develop/packages/descendants)\n   *  Slot registers themself with the Slots parent.\n   *  When all the children have mounted = registered themselves in slot,\n   *  we re-render the parent component to render with slots\n   */\n  const Slots = _ref => {\n    let {\n      context = defaultContext,\n      children\n    } = _ref;\n    // initialise slots\n    const slotsDefinition = {};\n    slotNames.map(name => slotsDefinition[name] = null);\n    const slotsRef = React__default.useRef(slotsDefinition);\n    const rerenderWithSlots = useForceUpdate();\n    const [isMounted, setIsMounted] = React__default.useState(false);\n\n    // fires after all the effects in children\n    useIsomorphicLayoutEffect(() => {\n      rerenderWithSlots();\n      setIsMounted(true);\n    }, [rerenderWithSlots]);\n    const registerSlot = React__default.useCallback((name, contents) => {\n      slotsRef.current[name] = contents;\n\n      // don't render until the component mounts = all slots are registered\n      if (isMounted) rerenderWithSlots();\n    }, [isMounted, rerenderWithSlots]);\n\n    // Slot can be removed from the tree as well,\n    // we need to unregister them from the slot\n    const unregisterSlot = React__default.useCallback(name => {\n      slotsRef.current[name] = null;\n      rerenderWithSlots();\n    }, [rerenderWithSlots]);\n\n    /**\n     * Slots uses a render prop API so abstract the\n     * implementation detail of using a context provider.\n     */\n    const slots = slotsRef.current;\n    return /*#__PURE__*/React__default.createElement(SlotsContext.Provider, {\n      value: {\n        registerSlot,\n        unregisterSlot,\n        context\n      }\n    }, children(slots));\n  };\n  function Slot(props) {\n    const {\n      name,\n      children\n    } = props;\n    const {\n      registerSlot,\n      unregisterSlot,\n      context\n    } = React__default.useContext(SlotsContext);\n    useIsomorphicLayoutEffect(() => {\n      registerSlot(name, typeof children === 'function' ? children(context) : children);\n      return () => unregisterSlot(name);\n    }, [name, children, registerSlot, unregisterSlot, context]);\n    return null;\n  }\n  return {\n    Slots,\n    Slot\n  };\n};\nexport { createSlots as default };","map":{"version":3,"names":["React__default","useForceUpdate","useIsomorphicLayoutEffect","createSlots","slotNames","SlotsContext","createContext","registerSlot","unregisterSlot","context","defaultContext","Object","freeze","Slots","_ref","children","slotsDefinition","map","name","slotsRef","useRef","rerenderWithSlots","isMounted","setIsMounted","useState","useCallback","contents","current","slots","createElement","Provider","value","Slot","props","useContext","default"],"sources":["/home/muneeb/assignment-krayo/frontend/node_modules/@primer/react/lib-esm/utils/create-slots.js"],"sourcesContent":["import React__default from 'react';\nimport { useForceUpdate } from './use-force-update.js';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect.js';\n\n/** createSlots is a factory that can create a\n *  typesafe Slots + Slot pair to use in a component definition\n *  For example: ActionList.Item uses createSlots to get a Slots wrapper\n *  + Slot component that is used by LeadingVisual, Description\n */\nconst createSlots = slotNames => {\n  const SlotsContext = /*#__PURE__*/React__default.createContext({\n    registerSlot: () => null,\n    unregisterSlot: () => null,\n    context: {}\n  });\n\n  // maintain a static reference to avoid infinite render loop\n  const defaultContext = Object.freeze({});\n\n  /** Slots uses a Double render strategy inspired by [reach-ui/descendants](https://github.com/reach/reach-ui/tree/develop/packages/descendants)\n   *  Slot registers themself with the Slots parent.\n   *  When all the children have mounted = registered themselves in slot,\n   *  we re-render the parent component to render with slots\n   */\n  const Slots = ({\n    context = defaultContext,\n    children\n  }) => {\n    // initialise slots\n    const slotsDefinition = {};\n    slotNames.map(name => slotsDefinition[name] = null);\n    const slotsRef = React__default.useRef(slotsDefinition);\n    const rerenderWithSlots = useForceUpdate();\n    const [isMounted, setIsMounted] = React__default.useState(false);\n\n    // fires after all the effects in children\n    useIsomorphicLayoutEffect(() => {\n      rerenderWithSlots();\n      setIsMounted(true);\n    }, [rerenderWithSlots]);\n    const registerSlot = React__default.useCallback((name, contents) => {\n      slotsRef.current[name] = contents;\n\n      // don't render until the component mounts = all slots are registered\n      if (isMounted) rerenderWithSlots();\n    }, [isMounted, rerenderWithSlots]);\n\n    // Slot can be removed from the tree as well,\n    // we need to unregister them from the slot\n    const unregisterSlot = React__default.useCallback(name => {\n      slotsRef.current[name] = null;\n      rerenderWithSlots();\n    }, [rerenderWithSlots]);\n\n    /**\n     * Slots uses a render prop API so abstract the\n     * implementation detail of using a context provider.\n     */\n    const slots = slotsRef.current;\n    return /*#__PURE__*/React__default.createElement(SlotsContext.Provider, {\n      value: {\n        registerSlot,\n        unregisterSlot,\n        context\n      }\n    }, children(slots));\n  };\n  function Slot(props) {\n    const {\n      name,\n      children\n    } = props;\n    const {\n      registerSlot,\n      unregisterSlot,\n      context\n    } = React__default.useContext(SlotsContext);\n    useIsomorphicLayoutEffect(() => {\n      registerSlot(name, typeof children === 'function' ? children(context) : children);\n      return () => unregisterSlot(name);\n    }, [name, children, registerSlot, unregisterSlot, context]);\n    return null;\n  }\n  return {\n    Slots,\n    Slot\n  };\n};\n\nexport { createSlots as default };\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,OAAO;AAClC,SAASC,cAAc,QAAQ,uBAAuB;AACtD,OAAOC,yBAAyB,MAAM,gCAAgC;;AAEtE;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,GAAGC,SAAS,IAAI;EAC/B,MAAMC,YAAY,GAAG,aAAaL,cAAc,CAACM,aAAa,CAAC;IAC7DC,YAAY,EAAEA,CAAA,KAAM,IAAI;IACxBC,cAAc,EAAEA,CAAA,KAAM,IAAI;IAC1BC,OAAO,EAAE,CAAC;EACZ,CAAC,CAAC;;EAEF;EACA,MAAMC,cAAc,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;;EAExC;AACF;AACA;AACA;AACA;EACE,MAAMC,KAAK,GAAGC,IAAA,IAGR;IAAA,IAHS;MACbL,OAAO,GAAGC,cAAc;MACxBK;IACF,CAAC,GAAAD,IAAA;IACC;IACA,MAAME,eAAe,GAAG,CAAC,CAAC;IAC1BZ,SAAS,CAACa,GAAG,CAACC,IAAI,IAAIF,eAAe,CAACE,IAAI,CAAC,GAAG,IAAI,CAAC;IACnD,MAAMC,QAAQ,GAAGnB,cAAc,CAACoB,MAAM,CAACJ,eAAe,CAAC;IACvD,MAAMK,iBAAiB,GAAGpB,cAAc,EAAE;IAC1C,MAAM,CAACqB,SAAS,EAAEC,YAAY,CAAC,GAAGvB,cAAc,CAACwB,QAAQ,CAAC,KAAK,CAAC;;IAEhE;IACAtB,yBAAyB,CAAC,MAAM;MAC9BmB,iBAAiB,EAAE;MACnBE,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,EAAE,CAACF,iBAAiB,CAAC,CAAC;IACvB,MAAMd,YAAY,GAAGP,cAAc,CAACyB,WAAW,CAAC,CAACP,IAAI,EAAEQ,QAAQ,KAAK;MAClEP,QAAQ,CAACQ,OAAO,CAACT,IAAI,CAAC,GAAGQ,QAAQ;;MAEjC;MACA,IAAIJ,SAAS,EAAED,iBAAiB,EAAE;IACpC,CAAC,EAAE,CAACC,SAAS,EAAED,iBAAiB,CAAC,CAAC;;IAElC;IACA;IACA,MAAMb,cAAc,GAAGR,cAAc,CAACyB,WAAW,CAACP,IAAI,IAAI;MACxDC,QAAQ,CAACQ,OAAO,CAACT,IAAI,CAAC,GAAG,IAAI;MAC7BG,iBAAiB,EAAE;IACrB,CAAC,EAAE,CAACA,iBAAiB,CAAC,CAAC;;IAEvB;AACJ;AACA;AACA;IACI,MAAMO,KAAK,GAAGT,QAAQ,CAACQ,OAAO;IAC9B,OAAO,aAAa3B,cAAc,CAAC6B,aAAa,CAACxB,YAAY,CAACyB,QAAQ,EAAE;MACtEC,KAAK,EAAE;QACLxB,YAAY;QACZC,cAAc;QACdC;MACF;IACF,CAAC,EAAEM,QAAQ,CAACa,KAAK,CAAC,CAAC;EACrB,CAAC;EACD,SAASI,IAAIA,CAACC,KAAK,EAAE;IACnB,MAAM;MACJf,IAAI;MACJH;IACF,CAAC,GAAGkB,KAAK;IACT,MAAM;MACJ1B,YAAY;MACZC,cAAc;MACdC;IACF,CAAC,GAAGT,cAAc,CAACkC,UAAU,CAAC7B,YAAY,CAAC;IAC3CH,yBAAyB,CAAC,MAAM;MAC9BK,YAAY,CAACW,IAAI,EAAE,OAAOH,QAAQ,KAAK,UAAU,GAAGA,QAAQ,CAACN,OAAO,CAAC,GAAGM,QAAQ,CAAC;MACjF,OAAO,MAAMP,cAAc,CAACU,IAAI,CAAC;IACnC,CAAC,EAAE,CAACA,IAAI,EAAEH,QAAQ,EAAER,YAAY,EAAEC,cAAc,EAAEC,OAAO,CAAC,CAAC;IAC3D,OAAO,IAAI;EACb;EACA,OAAO;IACLI,KAAK;IACLmB;EACF,CAAC;AACH,CAAC;AAED,SAAS7B,WAAW,IAAIgC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}